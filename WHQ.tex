% WHQ.sty
%
% Written for a summer school on equivariant stable homotopy theory in Shanghai
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{WHQ-math}[2019/06/30]

% Commonly used math-related packages.
\newcommand\bmmax{2}
\RequirePackage{amsfonts}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
% \RequirePackage{mathabx}
\RequirePackage{stmaryrd}
\RequirePackage{faktor}
\RequirePackage{mathtools}
\RequirePackage{tikz-cd}
\RequirePackage{todonotes}
\RequirePackage{dsfont}

\usepackage[all]{xy}
\usepackage{enumerate}
\usepackage{lipsum} % for filler text
\usepackage{hyperref} % link
\usepackage{url}

\usepackage{dirtytalk} % specifically for quotation marks

% explanation below \simeq
\newcommand{\simeqexpl}[1]{%
  \underset{\substack{\uparrow\\\mathrlap{\text{\hspace{-1em}#1}}}}{\simeq}}

% Theorems et al. are numbered within sections.
\RequirePackage{amsthm}
\RequirePackage{thmtools}

\declaretheorem[
  name = Theorem,
  numberwithin = section
]{theorem}
\declaretheorem[
  name = Corollary,
  sibling = theorem
]{corollary}
\declaretheorem[
  name = Lemma,
  sibling = theorem
]{lemma}
\declaretheorem[
  name = Proposition,
  sibling = theorem
]{proposition}
\declaretheorem[
  name = Fact,
  sibling = theorem
]{fact}
\declaretheorem[
  name = Remark,
  sibling = theorem,
  style=definition
]{remark}
\declaretheorem[
  name = Example,
  sibling = theorem,
  style=definition
]{example}
\declaretheorem[
  name = Exercise,
  sibling = theorem,
  style=definition
]{exercise}
\declaretheorem[
  name = Question,
  sibling = theorem,
  style=definition
]{question}
\declaretheorem[
  name = Answer,
  sibling = theorem,
  style=definition
]{answer}
\declaretheorem[
  name = Hint,
  sibling = theorem,
  style=definition
]{hint}
\declaretheorem[
  name = Definition,
  sibling = theorem,
  style=definition
]{definition}
\declaretheorem[
  name = Notation,
  sibling = theorem,
  style=definition
]{notation}
\declaretheorem[
  name = Convention,
  sibling = theorem,
  style=definition
]{convention}
\declaretheorem[
  name = Construction,
  sibling = theorem,
  style = definition
]{construction}
\declaretheorem[
  name = Conjecture,
  sibling = theorem,
  style = definition
]{conjecture}
\declaretheorem[
  name = Observation,
  sibling = theorem,
  style = definition
]{observation}
\declaretheorem[
  name = Question,
  sibling = theorem,
  style = definition
]{quest}

\newtheorem{thmx}{Theorem}
\renewcommand{\thethmx}{\Alph{thmx}} % "letter-numbered" theorems
% Shortcuts for some mathematical symbols.

\RequirePackage{ifthen}
%\RequirePackage[cal=boondoxo]{mathalfa}

% Some "number domain"s.
\newcommand{\padicinteger}{\hat{\mathbb{Z}}_{p}}
\newcommand{\BC}{\mathbb{C}}
\newcommand{\BD}{{\mathbb{D}}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\BF}{{\mathbb{F}}}
\newcommand{\BL}{{\mathbb{L}}}
\newcommand{\BR}{{\mathbb{R}}}
\newcommand{\BQ}{{\mathbb{Q}}}
\newcommand{\BZ}{{\mathbb{Z}}}
\newcommand{\BS}{{\mathbb{S}}}  % the sphere spectrum

% Math Calligraphic letters
\newcommand{\CA}{{\mathcal{A}}}
\newcommand{\CB}{{\mathcal{B}}}
\newcommand{\CC}{{\mathcal{C}}}
\newcommand{\CD}{{\mathcal{D}}}
\newcommand{\CE}{{\mathcal{E}}}
\newcommand{\CF}{{\mathcal{F}}}
\newcommand{\CG}{{\mathcal{G}}}
\newcommand{\CH}{{\mathcal{H}}}
\newcommand{\CI}{{\mathcal{I}}}
\newcommand{\CJ}{{\mathcal{J}}}
\newcommand{\CK}{{\mathcal{K}}}
\newcommand{\CL}{{\mathcal{L}}}
\newcommand{\CM}{{\mathcal{M}}}
\newcommand{\CN}{{\mathcal{N}}}
\newcommand{\CO}{{\mathcal{O}}}
\newcommand{\CP}{{\mathcal{P}}}
\newcommand{\CQ}{{\mathcal{Q}}}
\newcommand{\CR}{{\mathcal{R}}}
\newcommand{\CS}{{\mathcal{S}}}
\newcommand{\CT}{{\mathcal{T}}}
\newcommand{\CU}{{\mathcal{U}}}
\newcommand{\CV}{{\mathcal{V}}}
\newcommand{\CW}{{\mathcal{W}}}
\newcommand{\CX}{{\mathcal{X}}}


% Fractur 
\newcommand{\Fa}{{\mathfrak{a}}}
\newcommand{\Fb}{{\mathfrak{b}}}
\newcommand{\Fc}{{\mathfrak{c}}}
\newcommand{\Fd}{{\mathfrak{d}}}
\newcommand{\Fe}{{\mathfrak{e}}}
\newcommand{\Ff}{{\mathfrak{f}}}
\newcommand{\Fg}{{\mathfrak{g}}}
\newcommand{\Fh}{{\mathfrak{h}}}
\newcommand{\Fi}{{\mathfrak{i}}}
\newcommand{\Fj}{{\mathfrak{j}}}
\newcommand{\Fk}{{\mathfrak{k}}}
\newcommand{\Fl}{{\mathfrak{l}}}
\newcommand{\Fm}{{\mathfrak{m}}}
\newcommand{\Fn}{{\mathfrak{n}}}
\newcommand{\Fo}{{\mathfrak{o}}}
\newcommand{\Fp}{{\mathfrak{p}}}
\newcommand{\Fq}{{\mathfrak{q}}}
\newcommand{\Fr}{{\mathfrak{r}}}
\newcommand{\Fs}{{\mathfrak{s}}}
\newcommand{\Ft}{{\mathfrak{t}}}
\newcommand{\Fu}{{\mathfrak{u}}}
\newcommand{\Fv}{{\mathfrak{v}}}
\newcommand{\Fw}{{\mathfrak{w}}}
\newcommand{\Fx}{{\mathfrak{x}}}
\newcommand{\Fy}{{\mathfrak{y}}}
\newcommand{\Fz}{{\mathfrak{z}}}

\newcommand{\FA}{{\mathfrak{A}}}
\newcommand{\FB}{{\mathfrak{B}}}
\newcommand{\FC}{{\mathfrak{C}}}
\newcommand{\FD}{{\mathfrak{D}}}
\newcommand{\FE}{{\mathfrak{E}}}
\newcommand{\FF}{{\mathfrak{F}}}
\newcommand{\FG}{{\mathfrak{G}}}
\newcommand{\FH}{{\mathfrak{H}}}
\newcommand{\FI}{{\mathfrak{I}}}
\newcommand{\FJ}{{\mathfrak{J}}}
\newcommand{\FK}{{\mathfrak{K}}}
\newcommand{\FL}{{\mathfrak{L}}}
\newcommand{\FM}{{\mathfrak{M}}}
\newcommand{\FN}{{\mathfrak{N}}}
\newcommand{\FO}{{\mathfrak{O}}}
\newcommand{\FP}{{\mathfrak{P}}}
\newcommand{\FQ}{{\mathfrak{Q}}}
\newcommand{\FR}{{\mathfrak{R}}}
\newcommand{\FS}{{\mathfrak{S}}}
\newcommand{\FT}{{\mathfrak{T}}}
\newcommand{\FU}{{\mathfrak{U}}}
\newcommand{\FV}{{\mathfrak{V}}}
\newcommand{\FW}{{\mathfrak{W}}}
\newcommand{\FX}{{\mathfrak{X}}}
\newcommand{\FY}{{\mathfrak{Y}}}
\newcommand{\FZ}{{\mathfrak{Z}}}

% math Bold
\newcommand{\BBL}{{\mathbf{L}}}
\newcommand{\BBO}{{\mathbf{O}}}
\newcommand{\BBP}{{\mathbf{P}}}



% Working with functions.
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\ran}{ran}
\DeclareMathOperator{\rk}{rk}
\DeclareMathOperator{\identity}{id}

% Some cats!
\DeclareMathOperator{\ob}{ob}
\DeclareMathOperator{\mor}{mor}
\newif\ifcurlycat
\curlycatfalse
\newcommand{\curlycat}{\curlycattrue}
\newcommand{\boldcat}{\curlycatfalse}
%\newcommand{\operatorname}[1]{
%  \ifcurlycat
%    \mathcal{#1}
%  \else
%    \mathbf{#1}
%  \fi
%}




\newcommand{\Set}{\operatorname{Set}}
\newcommand{\sSet}{\operatorname{sSet}}
\newcommand{\Top}{\operatorname{Top}}
\newcommand{\GTop}{\operatorname{Top^{G}}}

\newcommand{\Tor}{\operatorname{Tor}}
\DeclareMathOperator{\Sp}{Sp} % functor category of excisive functors
%\newcommand{\Sp}{Sp} % The (infinity) category of spectra
\newcommand{\vect}{\operatorname{Vect}} % the category of vector spaces
\newcommand{\vectk}{\operatorname{Vect_k}} % the category of vector spaces
\newcommand{\Space}{\operatorname{\mathcal{S}}} % infinity category of spaces
\newcommand{\pconnSpace}{\operatorname{\mathcal{S}_{*}^{\geq 1}}} % infinity category of spaces
\newcommand{\fSpace}{\operatorname{\mathcal{S}^{fin}}} % infinity category of finite spaces
\newcommand{\pSpace}{\operatorname{\mathcal{S}_{*}}} % infinity category of pointed spaces
\newcommand{\pfSpace}{\operatorname{\mathcal{S}_{*}^{fin}}} % infinity category of pointed finite spaces
\newcommand{\GSp}{\operatorname{Sp^{G}}} % the category of genuine G-spectra
\newcommand{\OGSp}{\operatorname{Sp_{G}^{O}}}
\newcommand{\GSpU}{\operatorname{Sp^{G}_{\mathcal{U}}}} % the category of genuine G-spectra over a universe
\newcommand{\SH}{\operatorname{SH}}
\newcommand{\Mon}{\operatorname{Mon}}
\newcommand{\CMon}{\operatorname{CMon}} % category of commutative monoids.
\newcommand{\Monad}{\operatorname{Monad}}
\newcommand{\Comonad}{\operatorname{Comonad}}
\newcommand{\Gr}{\operatorname{Gr}}  % the associated graded functor
\newcommand{\Ab}{\operatorname{Ab}}
\newcommand{\Ring}{\operatorname{Ring}}
\newcommand{\CRing}{\operatorname{CRing}}
\newcommand{\AbMon}{\operatorname{AbMon}}

\newcommand{\Cat}{\operatorname{Cat}} % cat of small ordinary cats
\newcommand{\Catinf}{\operatorname{Cat_{\infty}}} % cat of small infinity cats
\newcommand{\Catomega}{Cat^{\omega}_{*}} % infinity category of pointed compactly generated infinity categories with functors preserving colimits and compact objects
\newcommand{\CAT}{\operatorname{CAT}}

\newcommand{\pr}{\operatorname{Pr}} % infinity category of presentable infinity categories
\newcommand{\lpr}{\operatorname{LPr}}


\newcommand{\operad}{\operatorname{Op}} % 1-category of ordinary operads
\newcommand{\nsinfoperad}{\operatorname{Opd^{ns}_{\infty}}} % infinity category of nonsymmetric operads
\newcommand{\Opd}{\operatorname{Op}} % infinity category of inftyoperads
\newcommand{\Coop}{\operatorname{coOp}} % infinity category of cooperads


\newcommand{\SimplexCat}{\mathbf{\Delta}}
\newcommand{\Fin}{\operatorname{Fin}}   % category of finite sets 
\newcommand{\Surj}{\operatorname{Surj}} % category of finite sets but with only surjective maps
\newcommand{\hcat}{\operatorname{h}}

\newcommand{\tildeCE}{\widetilde{\operatorname{CE}}}
\newcommand{\Ch}{\operatorname{Ch}}
\newcommand{\op}[1]{{#1}^\mathrm{op}}
\newcommand{\Mod}{\operatorname{Mod}}
\newcommand{\Vect}[1][]{\operatorname{Vect}\subscriptif{#1}}
\newcommand{\Gpd}{\operatorname{Gpd}} % category of groupoid objects




% Some Inf-cats !
\DeclareMathOperator{\exc}{Exc} % functor category of excisive functors
\DeclareMathOperator{\Fun}{Fun} % functor category of an infinity category
\DeclareMathOperator{\lfun}{LFun} % infinity category of functors which admits a right adjoint 
\DeclareMathOperator{\SSeq}{SSeq} % infinity category of symmetric sequences




% Some Operads and their algebras
\newcommand{\triv}{\mathds{1}}  % the trivial operad
\newcommand{\Lie}{\operatorname{Lie}}  % the Lie operad
\newcommand{\spLie}{\mathbf{Lie}}  % the Lie operad

\newcommand{\Ass}{\operatorname{Assoc}}  % the associative operad
\newcommand{\coCAlg}{\operatorname{coCAlg}}  % the category of cocommutative coalgebras
\newcommand{\CAlg}{\operatorname{CAlg}}  % the category of commutative algebras
\newcommand{\Hopfalgebra}{\operatorname{HopfAlg}}  % the category of Hopf algebras
\newcommand{\LMod}{\operatorname{LMod}}  % the category of left modules
\newcommand{\LcoMod}{\operatorname{LcoMod}}  % the category of left comodules

\newcommand{\Alg}{\operatorname{Alg}} % the category of algebras over an operad
\newcommand{\coAlg}{\operatorname{coAlg}} % the category of coalgebras over a cooperad
\newcommand{\Hah}{\operatorname{Hah}} % the category of algebras over an operad
\newcommand{\E}{\operatorname{E}} % the E_n operad
\newcommand{\Com}{\operatorname{Com}} % the E_n operad
\newcommand{\Part}{\operatorname{Part}}  % the partition complex


%%%%%%%%%%%%%%%%
%%% Functors %%%
%%%%%%%%%%%%%%%%
\newcommand{\Free}{\operatorname{free}} % the free algebra functor
\newcommand{\cofree}{\operatorname{cofree}} % the cofree coalgebra functor
\newcommand{\trivial}{\operatorname{triv}} % the trivial algebra/coalgebra functor
\newcommand{\oblv}{\operatorname{oblv}} % the forgetful functor
\newcommand{\TAQ}{TAQ} % the TAQ functor
\newcommand{\Prim}{\operatorname{prim}} % the Prim functor
\newcommand{\Chev}{\widetilde{\operatorname{CE}}}
\newcommand{\indec}{\operatorname{indec}} % the Indec functor
\newcommand{\nil}{\operatorname{nil}}
\newcommand{\divpow}{\operatorname{dp}}

%%%%%%%%%%%%%%%%%%
%%% Diagrams %%%
%%%%%%%%%%%%%%%%%%

\newcommand{\stackspace}{4}
\newcommand{\stack}[2][1cm]{\;\tikz[baseline, yshift=.65ex]%
    {\foreach \k [evaluate=\k as \r using (.5*#2+.5-\k)*\stackspace] in {1,...,#2}{%
    % \ifodd
    \k{\draw[->](0,\r pt)--(#1,\r pt);}%
 %   \else{\draw[<-](0,\r pt)--(#1,\r pt);}\fi
    }}\;}

%%%%%%%%%%%%%%%%%%
%%% Operations %%%
%%%%%%%%%%%%%%%%%%
\newcommand{\adj}[4]{#1\negmedspace: #2\rightleftarrows #3:\negmedspace #4}  % adjoint functors



\DeclareMathOperator{\Cr}{Cr} % Cross effect
\DeclareMathOperator{\FCr}{FCr} % The fiber of the map d_0 of the Cross effects

\DeclareMathOperator{\Ho}{Ho} % homotopy category
\DeclareMathOperator{\im}{im} % image 
\DeclareMathOperator{\bimor}{Bimor}
\DeclareMathOperator{\Barconstruction}{Bar}   % bar construction
\DeclareMathOperator{\Cobar}{Cobar}  % Cobar construction

\DeclareMathOperator{\cofib}{cofib} % homotopy cofiber of cofiber in an infinity-category

\DeclareMathOperator{\conn}{Conn} % The connectivity of a map or a space

\DeclareMathOperator{\crosseffect}{cr} % cross effect in functor calculus
\DeclareMathOperator{\fib}{fib}  % homotopy fiber or fiber in an infinity-category
\DeclareMathOperator{\id}{id} 
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\colim}{colim}


\DeclareMathOperator{\Ind}{Ind} % Ind construction.
\DeclareMathOperator{\Grp}{Grp} % Ind construction.

\DeclareMathOperator{\limit}{lim}


\DeclareMathOperator{\heart}{\heartsuit} % heart of a t-structure

\DeclarePairedDelimiter\abs{\lvert}{\rvert} % \abs{} for numerisk vÃ¦rdi

\DeclareMathOperator{\hocolim}{hocolim}
\DeclareMathOperator{\holim}{holim}
\DeclareMathOperator{\Hom}{Hom}   % Hom-set
\DeclareMathOperator{\End}{End}   % endo-Hom
\DeclareMathOperator{\Mul}{Mul}

\DeclareMathOperator{\homog}{Homog} % n-homogenous functors
\DeclareMathOperator{\ext}{Ext} % ext-groups
\DeclareMathOperator{\map}{Map}
\DeclareMathOperator{\psh}{Psh} % presheaves on something
\DeclareMathOperator{\red}{Red} % reduction of a functor F:C\rightarrow D, from an infinity category with finite colimits and final objects to an infinity category with finite limits.
\DeclareMathOperator{\resstriction}{res^{\circ\rightarrow \star}} % restriction functor
\DeclareMathOperator{\Tot}{\operatorname{Tot}}
\DeclareMathOperator{\norm}{\operatorname{Nm}}
\DeclareMathOperator{\res}{res^{G}_{H}} % restriction functor from G to H
\DeclareMathOperator{\nerve}{N}  % The ordinary nerve functor
\DeclareMathOperator{\snerve}{N_{\bullet}^{hc}}  % The simplicial or homotopy coherent nerve functor going from the cat of simpliicial cats to the cat of sSet.
\DeclareMathOperator{\dgnerve}{N_{dg}}  % The ordinary nerve functor

\DeclareMathOperator{\Graded}{\operatorname{Gr}}   % graded objects
\DeclareMathOperator{\Fil}{\operatorname{Fil}} % filtered objects 

\DeclareMathOperator{\Sing}{Sing}  % Singular simplicial sets of a topological space 
\DeclareMathOperator{\Sym}{Sym}  % for symmetric algebra
\DeclareMathOperator{\nSymfun}{SymFun^{n}} % infinity category of symmetric n-ary functors
\DeclareMathOperator{\Symfun}{SymFun} % infinity category of symmetric n-ary functors
\DeclareMathOperator{\Poly}{Poly}
\DeclareMathOperator{\coAn}{coAn}
\DeclareMathOperator{\tame}{\operatorname{tame}} % tame 
\DeclareMathOperator{\suspension}{\Sigma^{\infty}}
\endinput

%%%%%%%%%%%%%%%%%%%%
%%% Applied Math %%%
%%%%%%%%%%%%%%%%%%%%
\DeclareMathOperator{\expectation}{\mathbb{E}}
\DeclareMathOperator{\Cov}{\operatorname{Cov}}
\DeclareMathOperator{\Corr}{\operatorname{Corr}}
\DeclareMathOperator{\Var}{\operatorname{Var}}
\DeclareMathOperator{\MSE}{\operatorname{MSE}}
\DeclareMathOperator{\bias}{\operatorname{bias}}
\endinput